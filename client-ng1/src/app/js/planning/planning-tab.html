<div class="cesar-container">
    <h1>Planning</h1>
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-phone mdl-cell--4-col-tablet cesar-text-center">
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkbox-1"
                   style="width: auto">
                <input type="checkbox" id="checkbox-1" class="mdl-checkbox__input"
                       ng-model="ctrl.display.amphi">
                <span class="mdl-checkbox__label">Amphi</span>
            </label>
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkbox-2"
                   style="width: auto">
                <input type="checkbox" id="checkbox-2" class="mdl-checkbox__input"
                       ng-model="ctrl.display.salle">
                <span class="mdl-checkbox__label">Salles</span>
            </label>
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkbox-3"
                   style="width: auto">
                <input type="checkbox" id="checkbox-3" class="mdl-checkbox__input"
                       ng-model="ctrl.display.mezzanine">
                <span class="mdl-checkbox__label">Mezzanine</span>

            </label>
        </div>
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-phone mdl-cell--4-col-tablet cesar-text-center">
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkboxDay1"
                   style="width: auto">
                <input type="checkbox" id="checkboxDay1" class="mdl-checkbox__input"
                       ng-model="ctrl.display.day1">
                <span class="mdl-checkbox__label">{{ctrl.dates[0] | date}}</span>
            </label>
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkboxDay2"
                   style="width: auto">
                <input type="checkbox" id="checkboxDay2" class="mdl-checkbox__input"
                       ng-model="ctrl.display.day2">
                <span class="mdl-checkbox__label">{{ctrl.dates[1] | date}}</span>
            </label>
        </div>
        <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-phone mdl-cell--4-col-tablet cesar-text-center">
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkboxLangFr"
                   style="width: auto">
                <input type="checkbox" id="checkboxLangFr" class="mdl-checkbox__input"
                       ng-model="ctrl.display.fr">
                <span class="mdl-checkbox__label">fr</span>
            </label>
            <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="checkboxLangEn"
                   style="width: auto">
                <input type="checkbox" id="checkboxLangEn" class="mdl-checkbox__input"
                       ng-model="ctrl.display.en">
                <span class="mdl-checkbox__label">en</span>
            </label>
        </div>
    </div>
        <div class="cesar-text-center" ng-if="ctrl.display.day1"><h2>{{ctrl.dates[0] | date}}</h2>

            <p>&nbsp;</p>
            <div class="cesar-planning__container">

                <div class="cesar-planning__hour">
                    <div class="cesar-text-center cesar-planning__head">
                        &nbsp;
                    </div>
                    <div class="cesar-planning__slot-time" ng-repeat="slot in ctrl.timeslots"
                         ng-style="{'max-height' : ctrl.computeHeight(slot) , 'min-height' : ctrl.computeHeight(slot)}">
                        {{::slot.start | time}}
                    </div>
                </div>
                <div ng-repeat="room in ctrl.rooms" class="cesar-planning__room" ng-if="ctrl.displayRoom(room)"
                     ng-style="{'width' : 100/ctrl.rooms.length + '%'}">

                    <div class="cesar-text-center cesar-planning__head">
                        <a class="cesar-mdl-button--interests">
                            {{room.name}}
                        </a><br>
                        {{room.capacity}} pers.
                    </div>

                    <div class="cesar-planning__slot"
                         ng-repeat="slot in ctrl.day1Slots[room.key]"
                         ng-style="{'max-height' : ctrl.computeHeight(slot), 'min-height' : ctrl.computeHeight(slot)}"
                         ng-class="{'cesar-planning__slot-{{::slot.session.format}}' : !!slot.session, 'cesar-planning__slot-Annexe': !!slot.label, 'mdl-shadow--4dp' : !!slot.session}"
                         id="slot{{room}}{{slot.id}}"
                         ng-dblclick="ctrl.deleteSlot(slot.id)"
                    >
                        <span ng-if="slot.label" translate="{{slot.label}}"></span>

                        <div ng-if="slot.session">
                            <span class="cesar-badge" ng-if="(slot.session.lang === 'en' && ctrl.display.en) || (slot.session.lang === 'fr' && ctrl.display.fr)">{{slot.session.lang}}</span>
                            <i class="material-icons">{{slot.session.format | sessionLogo}}</i>
                            <span>{{slot.session.title}}</span>
                        </div>

                        <div class="mdl-tooltip" for="slot{{room}}{{slot.id}}" ng-if="slot.session || slot.label">
                            <b>{{slot.session.title}}<span translate="{{slot.label}}"></span></b><br>
                            De {{slot.start | time}} à {{slot.end | time}}
                        </div>

                        <span ng-if="!slot.session && !slot.label">&nbsp</span>
                    </div>
                </div>
            </div>

            <div class="cesar -helper hide-on-mobile" style="float: right">
                <i class="material-icons">local_library</i>&nbsp;<span>Talk</span>
                <i class="material-icons">build</i>&nbsp;<span>Workshop</span>
                <i class="material-icons">face</i>&nbsp;<span>Keynote</span>
                <i class="material-icons">help</i>&nbsp;<span>Random</span>
            </div>
        </div>

        <div class="cesar-text-center" ng-if="ctrl.display.day2"><h2>{{ctrl.dates[1] | date}}</h2>

            <p>&nbsp;</p>

            <div class="cesar-planning__container">

                <div class="cesar-planning__hour">
                    <div class="cesar-text-center cesar-planning__head">
                        &nbsp;
                    </div>
                    <div class="cesar-planning__slot-time" ng-repeat="slot in ctrl.timeslots"
                         ng-style="{'max-height' : ctrl.computeHeight(slot) , 'min-height' : ctrl.computeHeight(slot)}">
                        {{::slot.start | time}}
                    </div>
                </div>
                <div ng-repeat="room in ctrl.rooms" class="cesar-planning__room" ng-if="ctrl.displayRoom(room)"
                     ng-style="{'width' : 100/ctrl.rooms.length + '%'}">

                    <div class="cesar-text-center cesar-planning__head">
                        <a class="cesar-mdl-button--interests">
                            {{room.name}}
                        </a><br>
                        {{room.capacity}} pers.
                    </div>

                    <div class="cesar-planning__slot"
                         ng-repeat="slot in ctrl.day2Slots[room.key]"
                         ng-style="{'max-height' : ctrl.computeHeight(slot), 'min-height' : ctrl.computeHeight(slot)}"
                         ng-class="{'cesar-planning__slot-{{::slot.session.format}}' : !!slot.session,
                 'cesar-planning__slot-Annexe': !!slot.label, 'mdl-shadow--4dp' : !!slot.session}"
                         id="slot{{room}}1{{slot.id}}"
                         ng-dblclick="ctrl.deleteSlot(slot.id)"
                    >

                        <span ng-if="slot.label" translate="{{slot.label}}"></span>

                        <div ng-if="slot.session">
                            <span class="cesar-badge" ng-if="(slot.session.lang === 'en' && ctrl.display.en) || (slot.session.lang === 'fr' && ctrl.display.fr)">{{slot.session.lang}}</span>
                            <i class="material-icons">{{::slot.session.format | sessionLogo}}</i>
                            <span>{{slot.session.title}}</span>
                        </div>

                        <div class="mdl-tooltip" for="slot{{room}}1{{slot.id}}" ng-if="slot.session || slot.label">
                            <b>{{slot.session.title}}<span translate="{{slot.label}}"></span></b><br>
                            De {{slot.start | time}} à {{slot.end | time}}
                        </div>
                        <span ng-if="!slot.session && !slot.label">&nbsp</span>
                    </div>
                </div>
            </div>

            <div class="cesar -helper hide-on-mobile" style="float: right">
                <i class="material-icons">local_library</i>&nbsp;<span>Talk</span>
                <i class="material-icons">build</i>&nbsp;<span>Workshop</span>
                <i class="material-icons">face</i>&nbsp;<span>Keynote</span>
                <i class="material-icons">help</i>&nbsp;<span>Random</span>
            </div>
        </div>
    </form>
    <p>&nbsp;</p>
</div>
